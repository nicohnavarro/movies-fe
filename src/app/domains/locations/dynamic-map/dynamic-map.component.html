<div class="map-wrapper">
  <google-map
    height="100%"
    width="100%"
    [center]="mapCenter"
    [zoom]="zoom">
    
    <map-marker
      *ngFor="let movie of movies"
      [position]="{ lat: movie.lat, lng: movie.lng }"
      [title]="movie.title"
      [icon]="getMarkerIcon(movie)"
      (mapClick)="openInfoWindow(marker, movie)"
      #marker="mapMarker">
    </map-marker>

    <map-info-window>
      <div *ngIf="selectedMovie" class="info-window-content">
        <h2 class="movie-title">{{ selectedMovie.title }}</h2>
        <p class="movie-location">{{ selectedMovie.location }}</p>
        <div class="movie-details">
          <p><strong>Year:</strong> {{ selectedMovie.release_year }}</p>
          <p><strong>Director:</strong> {{ selectedMovie.director }}</p>
          <p *ngIf="selectedMovie.fun_facts"><strong>Fun Facts:</strong> {{ selectedMovie.fun_facts }}</p>
        </div>
      </div>
    </map-info-window>
  </google-map>
</div>